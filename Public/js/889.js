(self.webpackChunkmegapolis=self.webpackChunkmegapolis||[]).push([[889],{889:()=>{const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),o=document.querySelectorAll(".lock-padding");let n=!0;const l=800;if(e.length>0)for(let t=0;t<e.length;t++){const o=e[t];o.addEventListener("click",(e=>{const t=o.getAttribute("href").replace("#","");p(document.getElementById(t)),e.preventDefault()}))}const c=document.querySelectorAll(".close-popup");if(c.length>0)for(let e=0;e<c.length;e++){const t=c[e];t.addEventListener("click",(e=>{s(t.closest(".popup")),e.preventDefault()}))}function p(e){if(e&&n){const c=document.querySelector(".popup.open");c?s(c,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(o.length>0)for(let t=0;t<o.length;t++)o[t].style.paddingRight=e;t.style.paddingRight=e,t.classList.add("lock"),n=!1,setTimeout((()=>{n=!0}),l)}(),e.classList.add("open"),e.addEventListener("click",(e=>{e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}function s(e,c=!0){n&&(e.classList.remove("open"),c&&(setTimeout((()=>{if(o.length>0)for(let e=0;e<o.length;e++)o[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),l),n=!1,setTimeout((()=>{n=!0}),l)))}document.addEventListener("keydown",(e=>{"Escape"===e.key&&(alert("Opa"),s(document.querySelector(".popup-open")))}))}}]);